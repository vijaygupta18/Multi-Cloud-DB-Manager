# Dual Database Manager - Kubernetes Secret (example)
#
# 1. Copy this file to secrets.yaml:
#    cp secrets.yaml.example secrets.yaml
# 2. Replace all placeholders in secrets.yaml with your real values.
# 3. Do NOT commit secrets.yaml (it is in .gitignore).
#
# DATABASE_CONFIGS must be base64-encoded JSON. To generate:
#   - Edit the JSON below (or use backend/config/databases.json as reference)
#   - Encode: echo -n '<json>' | base64
#   - Paste the result into DATABASE_CONFIGS below
#
apiVersion: v1
kind: Secret
metadata:
  name: dual-db-secrets
  namespace: <NAMESPACE>   # Replace with your namespace (e.g. default, dual-db-manager)
  labels:
    app: dual-db-manager
type: Opaque
stringData:
  # Base64-encoded JSON. Example minimal config (decode to see structure):
  # {"primary":{"cloudName":"primary","db_configs":[{"name":"bpp",...,"host":"YOUR_HOST",...},{"name":"bap",...}]},"secondary":[],"history":{"host":"YOUR_HOST",...}}
  DATABASE_CONFIGS: |
    eyJwcmltYXJ5Ijp7ImNsb3VkTmFtZSI6InByaW1hcnkiLCJkYl9jb25maWdzIjpbeyJuYW1lIjoiYnBwIiwibGFiZWwiOiJQcmltYXJ5IERCIiwiaG9zdCI6IllPVVJfREJfSE9TVCIsInBvcnQiOjU0MzIsInVzZXIiOiJZT1VSX0RCX1VTRVIiLCJwYXNzd29yZCI6IllPVVJfREJfUEFTU1dPUkQiLCJkYXRhYmFzZSI6IllPVVJfREJfTkFNRSIsInNjaGVtYXMiOlsicHVibGljIl0sImRlZmF1bHRTY2hlbWEiOiJwdWJsaWMifSx7Im5hbWUiOiJiYXAiLCJsYWJlbCI6IlNlY29uZGFyeSBEQiIsImhvc3QiOiJZT1VSX0RCX0hPU1QiLCJwb3J0Ijo1NDMyLCJ1c2VyIjoiWU9VUl9EQl9VU0VSIiwicGFzc3dvcmQiOiJZT1VSX0RCX1BBU1NXT1JEIiwiZGF0YWJhc2UiOiJZT1VSX0RCX05BTUUiLCJzY2hlbWFzIjpbInB1YmxpYyJdLCJkZWZhdWx0U2NoZW1hIjoicHVibGljIn1dfSwic2Vjb25kYXJ5IjpbXSwiaGlzdG9yeSI6eyJob3N0IjoiWU9VUl9ISVNUT1JZX0hPU1QiLCJwb3J0Ijo1NDMyLCJ1c2VyIjoiWU9VUl9ISVNUT1JZX1VTRVIiLCJwYXNzd29yZCI6IllPVVJfSElTVE9SWV9QQVNTV09SRCIsImRhdGFiYXNlIjoiWU9VUl9ISVNUT1JZX0RCIn19

  # Session secret for cookies/sessions. Use a long random string in production.
  SESSION_SECRET: "REPLACE_WITH_LONG_RANDOM_SESSION_SECRET"
